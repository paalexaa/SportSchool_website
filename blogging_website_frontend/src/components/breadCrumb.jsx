import { Link, useLocation } from "react-router-dom";

const LABELS = {
  "про-нас": "Про нас",
  "тренери-волейбол": "Тренери відділення волейбол",
  "тренери-футбол": "Тренери відділення футбол",
  "тренери-баскетбол": "Тренери відділення баскетбол",
  "тренери-дзюдо": "Тренери відділення дзюдо",
  "розклад-занять": "Розклад занять",

  "інформаційнаПрозорість-статус": "Статут ДЮСШ",
  "інформаційнаПрозорість-правила": "Правила поведінки вихованців ДЮСШ",
  "інформаційнаПрозорість-людиЗОсобливимиПотребами": "Умови доступності закладу для осіб з особливими потребами",
  "інформаційнаПрозорість-освітняПрограма_на_24-25": "Освітня програма ДЮСШ на 2024-2025 н.р.",
  "інформаційнаПрозорість-навчальніПрограми": "Навчальні програми",
  "інформаційнаПрозорість-мова_та_оплата": "Мова навчання та оплата в ДЮСШ",
  "інформаційнаПрозорість-звітДиректора": "Звіт директора спортивної школи за 2023-2024 навчальний рік",
  "інформаційнаПрозорість-звіт5ФК": "Звіт 5-ФК за 2024рік",
  "інформаційнаПрозорість-кількістьВихованців": "Відділення та кількість вихованців, які займаються у ДЮСШ",
  "інформаційнаПрозорість-умовиВступу": "Умови вступу до ДЮСШ",
  "інформаційнаПрозорість-вакансії": "Інформація про наявність вакантних посад",
  "інформаційнаПрозорість-cтруктура-та-органи-управління": "Структура та органи управління",

  "прозорийБюджет-розрахунок-видатків-на-2025": "Розрахунок видатків на 2025 рік",
  "прозорийБюджет-аналіз-використання-коштів": "Аналіз використання коштів",

  "стопБулінг-нормативні-документи": "Нормативні документи щодо булінгу",
  "стопБулінг-план-заходів": "План заходів щодо протидії булінгу",
  "стопБулінг-порядок-подання-заяв-про-випадки-булінгу": "Порядок подання та розгляду (з дотриманням конфіденційності) заяв про випадки булінгу (цькування) в закладі",
  "стопБулінг-порядок-реагування-на-доведені-випадки-булінгу": "Порядок реагування на доведені випадки булінгу (цькування) в закладі освіти та відповідальність осіб, причетних до булінгу (цькування)",
  "стопБулінг-як-знущання-проявляються-на-поведінці-дитини": "Як знущання проявляються на поведінці дитини",
  "стопБулінг-як-реагувати-на-цькування": "Як реагувати на цькування",
  "стопБулінг-булінг-чи-ні": "Булінг чи ні?",
  "стопБулінг-чат-бот-Кіберпес": "Чат-бот “Кіберпес” для боротьби з кібербулінгом",

  "контакти": "Контакти",
};

function prettify(segment) {
  const dec = decodeURIComponent(segment);
  if (LABELS[dec]) return LABELS[dec];
  return dec
    .split("-")
    .map(w => w.charAt(0).toUpperCase() + w.slice(1))
    .join(" ");
}

export default function Breadcrumb() {
  const { pathname } = useLocation();
  const parts = pathname.split("/").filter(Boolean);

  return (
    <nav className="bg-[#f5f5f5] py-2 px-5 sm:px-10 md:px-16 lg:px-[120px] font-montserrat text-sm">
      <ol className="flex flex-wrap items-center">
        <li>
          <Link to="/" className="font-semibold hover:text-[#006d63]">Головна</Link>
        </li>

        {parts.map((seg, i) => {
          const to = "/" + parts.slice(0, i + 1).join("/");
          const isLast = i === parts.length - 1;
          return (
            <li key={to} className="flex items-center">
              <span className="mx-2 text-gray-400">›</span>
              {isLast ? (
                <span className="text-gray-800">{prettify(seg)}</span>
              ) : (
                <Link to={to} className="hover:text-[#006d63]">{prettify(seg)}</Link>
              )}
            </li>
          );
        })}
      </ol>
    </nav>
  );
}
